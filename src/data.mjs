import {
  normalize,
  createTensors,
  createModel,
  buildValidationXTrain,
  windowSize,
  lstmUnits,
  denseUnits,
} from "./functions.mjs";
const data = [
  1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.9999955, 0.999972, 0.9999487, 0.9999338,
  0.9996093, 0.9986565, 0.9996506, 0.9987117, 0.9993497, 1.0063711, 1.0113923,
  1.0089255, 1.0034601, 0.9944102, 0.9957606, 0.9940158, 0.9927766, 0.9943798,
  1.0025629, 1.0091787, 1.0098969, 1.0038642, 1.0033617, 1.005847, 1.0044734,
  0.9987078, 1.0006657, 0.9972059, 0.9864464, 0.9746835, 0.9805759, 0.9780025,
  0.9793699, 0.983789, 0.9809448, 0.9880888, 0.9943449, 0.986019, 0.9866566,
  0.9910081, 0.9905387, 0.9945122, 0.9932525, 0.9963794, 1.0010771, 1.0006244,
  0.9993684, 0.9991993, 1.0008158, 0.9948263, 0.9983138, 1.0069806, 1.0100665,
  1.0092062, 1.0126313, 1.0167682, 1.0221439, 1.0261398, 1.0300735, 1.0291926,
  1.0314466, 1.0350508, 1.0354072, 1.0360165, 1.0388201, 1.0381809, 1.0387659,
  1.0381274, 1.0382957, 1.0390344, 1.0354671, 1.0367329, 1.0344058, 1.0389718,
  1.0397049, 1.0401955, 1.0389532, 1.0376152, 1.040283, 1.0407591, 1.0423074,
  1.0434624, 1.0507486, 1.0493724, 1.0472074, 1.046914, 1.047233, 1.0417266,
  1.039339, 1.0296679, 1.0332572, 1.031788, 1.034508, 1.0316521, 1.0325654,
  1.0319739, 1.0306288, 1.0323738, 1.0419767, 1.0430619, 1.0399689, 1.0457448,
  1.0467327, 1.0443948, 1.049032, 1.0517187, 1.0496252, 1.0454028, 1.0472576,
  1.0506187, 1.0548853, 1.0566728, 1.0531321, 1.0482568, 1.0505366, 1.0503064,
  1.0535538, 1.0583235, 1.0600734, 1.061304, 1.0611182, 1.0630153, 1.0637718,
  1.0613079, 1.0658075, 1.0625457, 1.0624781, 1.0640744, 1.0644661, 1.0597852,
  1.0581094, 1.0568553, 1.0578072, 1.0576154, 1.0592058, 1.0619708, 1.0616511,
  1.0612887, 1.0610897, 1.0600832, 1.0538002, 1.0513137, 1.0524326, 1.0525117,
  1.054562, 1.0542945, 1.0543574, 1.0551931, 1.0533675, 1.0565033, 1.0587435,
  1.060778, 1.057111, 1.0584536, 1.0600521, 1.0639797, 1.0665155, 1.0685557,
  1.0693266, 1.0685269, 1.0632734, 1.0591686, 1.0584066, 1.0545194, 1.0357976,
  1.0239702, 1.0259973, 1.0244742, 1.0351462, 1.0365178, 1.0326338, 1.0296382,
  1.0252842, 1.0231107, 1.0135152, 1.0152303, 1.01323, 1.0084199, 1.0198856,
  1.0270033, 1.0284941, 1.0289375, 1.0294938, 1.0321065, 1.0403351, 1.041703,
  1.0396256, 1.0349197, 1.0321771, 1.0255711, 1.0281771, 1.0126119, 1.0080264,
  1.0101187, 1.0102825, 1.0123744, 1.0192355, 1.0236913, 1.0315867, 1.0298429,
  1.036938, 1.0404392, 1.029516, 1.0189089, 1.0143812, 1.0030794, 1.0038555,
  1.0074448, 1.0108542, 1.0104439, 1.0008748, 0.9921114, 0.9876351, 0.9773081,
  0.9699187, 0.960923, 0.9720828, 0.9698818, 0.9719809, 0.9764003, 0.9698958,
  0.9826927, 0.9865924, 0.9916284, 0.99145, 0.99418, 0.996407, 0.9968756,
  1.0041307, 1.0063206, 1.0115592, 1.0186844, 1.0185953, 1.0139347, 1.0129933,
  1.0168486, 1.016697, 1.0128992, 1.014918, 1.021225, 1.025079, 1.0261736,
  1.0319093, 1.0366276, 1.0360297, 1.0306456, 1.0324573, 1.036972, 1.0430818,
  1.0452286, 1.0470153, 1.0516257, 1.0529077, 1.0518723, 1.0528872, 1.0524753,
  1.0563627, 1.0565245, 1.0552729, 1.0537993, 1.0528687, 1.056672, 1.0575729,
  1.0578141, 1.0549664, 1.0543311, 1.0535565, 1.0607477, 1.0614262, 1.063126,
  1.0642732, 1.0673859, 1.0701858, 1.0688882, 1.0673721, 1.0713568, 1.065882,
  1.0638747, 1.0694163, 1.0706958, 1.0718334, 1.077554, 1.0853946, 1.0872208,
  1.0890681, 1.0899449, 1.0905918, 1.0888907, 1.0870595, 1.0899659, 1.0885526,
  1.0886987, 1.090375, 1.090817, 1.0907857, 1.0954289, 1.1018004, 1.1017609,
  1.1032752, 1.1059993, 1.1045781, 1.0999677, 1.1018415, 1.1025909, 1.0910914,
  1.0884426, 1.081024, 1.079402, 1.0715305, 1.076797, 1.0837219, 1.0883478,
  1.0858346, 1.0840511, 1.0857413, 1.082846, 1.0772282, 1.07727, 1.0777337,
  1.0738523, 1.0701785, 1.068842, 1.062422, 1.0611371, 1.0702229, 1.0749724,
  1.079222, 1.0833618, 1.0879723, 1.0883739, 1.0879046, 1.0907041, 1.092463,
  1.0961333, 1.104047, 1.1064116, 1.1077465, 1.0995768, 1.0963151, 1.0949674,
  1.0978267, 1.1040307, 1.1103016, 1.1174956, 1.1225193, 1.1228737, 1.1226615,
  1.1201351, 1.1209217, 1.1196863, 1.1207197, 1.122519, 1.1242429, 1.1241944,
  1.1205081, 1.1222988, 1.1207082, 1.1234753, 1.1318718, 1.1339625, 1.1321819,
  1.135484, 1.1335498, 1.131099, 1.1291524, 1.1229368, 1.1086215, 1.0932793,
  1.0911992, 1.0971725, 1.1059864, 1.100826, 1.0989395, 1.1015974, 1.0930867,
  1.0966055, 1.1056203, 1.1111205, 1.1100179, 1.1139625, 1.1107238, 1.1076679,
  1.1010779, 1.1033644, 1.1108929, 1.1179814, 1.1227339, 1.1224298, 1.1225906,
  1.127125, 1.1326003, 1.1340906, 1.1310762, 1.1348982, 1.142948, 1.1418246,
  1.14024, 1.1412286, 1.1397731, 1.1408671, 1.1428613, 1.1427972, 1.1439113,
  1.1393653, 1.142342, 1.1438312, 1.1428183, 1.1460174, 1.1319112, 1.1190226,
  1.1231396, 1.1292139, 1.1254195, 1.1211972, 1.1236151, 1.1277346, 1.1338978,
  1.1350587, 1.1392687, 1.1380005, 1.1350922, 1.1321424, 1.1365986, 1.1360393,
  1.1392838, 1.1425709, 1.1465494, 1.1481581, 1.146915, 1.1469775, 1.1457072,
  1.1520444, 1.156273, 1.1596899, 1.1621668, 1.163788, 1.164872, 1.1651796,
  1.1667749, 1.1672856, 1.1671821, 1.1686848, 1.1682772, 1.1648413, 1.1642309,
  1.1701812, 1.1764811, 1.1785772, 1.1812141, 1.1807587, 1.172877, 1.1619016,
  1.1610433, 1.1632477, 1.1669727, 1.1738612, 1.1711266, 1.1699951, 1.1723476,
  1.1737071, 1.1791239, 1.1835859, 1.1830312, 1.1830191, 1.1876106, 1.1917295,
  1.1912578, 1.1824947, 1.1884997, 1.1855085, 1.1904663, 1.1892359, 1.1899838,
  1.19307, 1.1968305, 1.2010541, 1.1991377, 1.2007039, 1.2020804, 1.2026888,
  1.2087209, 1.2136158, 1.2134625, 1.2137583, 1.2139682, 1.2169636, 1.2108378,
  1.2037536, 1.2097465, 1.2076025, 1.2042779, 1.1955822, 1.2014178, 1.2130303,
  1.2215579, 1.2259534, 1.2251447, 1.2318144, 1.2356313, 1.2411061, 1.2432996,
  1.2437456, 1.2440346, 1.2442936, 1.247253, 1.240796, 1.2265702, 1.2058747,
  1.1858615, 1.1709541, 1.1323269, 1.1260364, 1.1397034, 1.1326868, 1.1472535,
  1.1230425, 1.0915443, 1.0498864, 1.0634694, 1.0332453, 0.9878458, 1.002541,
  0.9559677, 0.9700867, 0.9533764, 0.9665162, 0.9434768, 0.9390425, 0.9799216,
  0.9958341, 1.008628, 0.9993189, 1.0160886, 1.0052784, 0.9889409, 1.0000675,
  1.0031886, 1.0376336, 1.0333458, 1.0534338, 1.0613481, 1.066941, 1.0582483,
  1.0672865, 1.0788229, 1.0667536, 1.0528504, 1.0669359, 1.0682943, 1.0773372,
  1.0892087, 1.0942187, 1.104229, 1.0792305, 1.087911, 1.0885919, 1.0897819,
  1.0957833, 1.1020602, 1.088207, 1.0767667, 1.0803498, 1.0895016, 1.1012668,
  1.0989618, 1.1043785, 1.102904, 1.1042032, 1.1078334, 1.1145784, 1.1238361,
  1.1211205, 1.1172154, 1.1220377, 1.1299461, 1.1371681, 1.1355397, 1.1510577,
  1.1557031, 1.1492474, 1.1395596, 1.1107109, 1.1134845, 1.1245527, 1.1397253,
  1.139367, 1.1406894, 1.122703, 1.1300363, 1.1193128, 1.125112, 1.133513,
  1.1374917, 1.1448099, 1.1451159, 1.1506781, 1.145711, 1.1452719, 1.1437913,
  1.1511028, 1.1419675, 1.1492076, 1.1548299, 1.1522639, 1.1548289, 1.1620453,
  1.1591875, 1.1559235, 1.1460116, 1.1381189, 1.1371711, 1.1375, 1.136601,
  1.1333195, 1.1354645, 1.1436068, 1.146943, 1.1460528, 1.1517864, 1.1534869,
  1.1573913, 1.1587625, 1.163275, 1.1604587, 1.159214, 1.1589608, 1.1587955,
  1.1596659, 1.1627733, 1.1676322, 1.1727543, 1.1742096, 1.1829189, 1.1805729,
  1.1796801, 1.1778394, 1.1819621, 1.1938102, 1.1722057, 1.1679837, 1.1646301,
  1.156965, 1.1642578, 1.1526079, 1.1575289, 1.1647594, 1.1690341, 1.165756,
  1.1612633, 1.1505942, 1.1481974, 1.1547727, 1.144328, 1.1452111, 1.1582713,
  1.1658977, 1.1627782, 1.1639632, 1.1648608, 1.1635859, 1.1709498, 1.1673465,
  1.1775904, 1.1839147, 1.1892604, 1.1969038, 1.1979546, 1.1919423, 1.1924165,
  1.1902504, 1.1797585, 1.1770169, 1.1734975, 1.1763777, 1.1741914, 1.1658676,
  1.1570145, 1.1456159, 1.1480472, 1.1491046, 1.1594828, 1.1729258, 1.1881262,
  1.1923904, 1.2001967, 1.2060134, 1.2122669, 1.2191551, 1.2129906, 1.2203093,
  1.2256165, 1.2193276, 1.2217324, 1.2204304, 1.2263053, 1.2328156, 1.2320134,
  1.2328248, 1.2304219, 1.2275808, 1.226824, 1.2260411, 1.2260785, 1.2311661,
  1.2314766, 1.2357954, 1.2315708, 1.2279793, 1.2301202, 1.2279525, 1.2327748,
  1.2334831, 1.2343356, 1.2280736, 1.2287126, 1.2309352, 1.2335507, 1.2339911,
  1.2352042, 1.2377422, 1.2360069, 1.2333639, 1.2389367, 1.2459079, 1.2565653,
  1.2616213, 1.2606338, 1.2610552, 1.26593, 1.2636596, 1.2611322, 1.2600777,
  1.2672058, 1.2733625, 1.2694435, 1.267388, 1.2713755, 1.2637625, 1.2557371,
  1.250487, 1.2420634, 1.2606981, 1.2705448, 1.2752777, 1.2816639, 1.2842983,
  1.2873849, 1.2856076, 1.2849141, 1.2873046, 1.2915264, 1.293252, 1.2923278,
  1.2916244, 1.2878337, 1.2814207, 1.2736274, 1.2765661, 1.2785809, 1.2611323,
  1.2664532, 1.2829172, 1.2759337, 1.267079, 1.2598508, 1.2804192, 1.2834344,
  1.2920754, 1.296114, 1.2980985, 1.3006434, 1.3092897, 1.3071564, 1.3072841,
  1.2987975, 1.2997056, 1.3022773, 1.3017408, 1.2959923, 1.3061572, 1.3149548,
  1.3170685, 1.3181663, 1.3208581, 1.3305647, 1.3314835, 1.3319403, 1.3356381,
  1.3383069, 1.3373521, 1.3390154, 1.336973, 1.3446566, 1.3441467, 1.3357572,
  1.3310979, 1.3369112, 1.3339657, 1.3386104, 1.3378983, 1.3375959, 1.3362033,
  1.3370154, 1.3360595, 1.3355404, 1.3408637, 1.341209, 1.3292812, 1.3214953,
  1.3151535, 1.3205322, 1.3255454, 1.3231793, 1.311316, 1.3158203, 1.3250146,
  1.3275471, 1.3290855, 1.3297006, 1.3340357, 1.3363776, 1.3349403, 1.3378559,
  1.3361671, 1.3389061, 1.3417947, 1.3457504, 1.3451365, 1.3462575, 1.346918,
  1.3522068, 1.356031, 1.3570718, 1.3568459, 1.3582258, 1.3612638, 1.358239,
  1.3619578, 1.3713395, 1.375789, 1.37601, 1.3796809, 1.3839358, 1.3902751,
  1.3902461, 1.3941833, 1.3903108, 1.3870768, 1.3937201, 1.3992748, 1.399654,
  1.3979027, 1.3945319, 1.3815418, 1.3782951, 1.3907329, 1.3954971, 1.4025859,
  1.4089206, 1.405327, 1.4047212, 1.4054193, 1.4034327, 1.4029999, 1.4034998,
  1.4098824, 1.410885, 1.4171204, 1.4202771, 1.4232903, 1.4254391, 1.4266059,
  1.4289103, 1.4252066, 1.4261731, 1.4261281, 1.4167936, 1.419123, 1.4250682,
  1.4286507, 1.4294769, 1.4285863, 1.4256218, 1.4279303, 1.4288105, 1.4298384,
  1.430098, 1.4294265, 1.4312087, 1.4312362, 1.4298332, 1.4306192, 1.4264906,
  1.4225394, 1.423726, 1.4198822, 1.4239578, 1.4234285, 1.4124221, 1.4066979,
  1.4089566, 1.41722, 1.4203508, 1.4218536, 1.4137967, 1.405452, 1.4077335,
  1.4003656, 1.4024304, 1.3985169, 1.4011653, 1.4140125, 1.417305, 1.416166,
  1.4121264, 1.4096824, 1.4179297, 1.4313463, 1.4356036, 1.4384341, 1.4427537,
  1.4450935, 1.446906, 1.4483295, 1.4567547, 1.4582095, 1.4545973, 1.457159,
  1.4625375, 1.4695487, 1.4721738, 1.4813359, 1.4907838, 1.4906377, 1.4868105,
  1.4869483, 1.4855435, 1.4909193, 1.5014603, 1.508366, 1.5137298, 1.5188625,
  1.512554, 1.5125449, 1.5169325, 1.5000486, 1.4847047, 1.4837317, 1.4778477,
  1.4605664, 1.4664909, 1.4703208, 1.4928613, 1.504327, 1.5028468, 1.4996186,
  1.5008183, 1.4912779, 1.4866526, 1.5038117, 1.4918153, 1.4753897, 1.4751753,
  1.493704, 1.5034179, 1.5126295, 1.5180721, 1.5148732, 1.5200155, 1.5227895,
  1.5211194, 1.5257101, 1.5268517, 1.5048445, 1.5000307, 1.4856205, 1.4926236,
  1.5007034, 1.4992814, 1.4818147, 1.4848268, 1.4782318, 1.473025, 1.4680161,
  1.448775, 1.4117085, 1.4175237, 1.4257852, 1.4291581, 1.4193871, 1.44455,
  1.4593697, 1.4650212, 1.4567828, 1.4283934, 1.4333281, 1.432826, 1.449294,
  1.4565201, 1.4406446, 1.4242834, 1.4322947, 1.4338005, 1.4333388, 1.4156007,
  1.4054291, 1.4047315, 1.3937628, 1.372284, 1.4065143, 1.4169672, 1.4137091,
  1.4177653, 1.4276263, 1.4163717, 1.4140336, 1.3839439, 1.3886709, 1.3891499,
  1.4005189, 1.3905317, 1.388317, 1.413132, 1.4287673, 1.4433665, 1.4586737,
  1.4661762, 1.4725608, 1.4686741, 1.4799433, 1.4862129, 1.4948348, 1.4934152,
  1.4850644, 1.4760687, 1.4897177, 1.5020802, 1.4848053, 1.4770649, 1.4860665,
  1.4790855, 1.4692099, 1.4642179, 1.4780824, 1.4760067, 1.4825707, 1.4828356,
  1.4576307, 1.4296546, 1.4353752, 1.4286071, 1.4399498, 1.4564351, 1.4406069,
  1.428753, 1.4439017, 1.4110244, 1.3887287, 1.3695203, 1.3747497, 1.3591196,
  1.3827522, 1.3970194, 1.3991494, 1.3929819, 1.361155, 1.3535686, 1.3626897,
  1.3530168, 1.355621, 1.371284, 1.3929649, 1.4118046, 1.4086023, 1.4038744,
  1.4024131, 1.4023156, 1.4079478, 1.4043885, 1.4099139, 1.3963475, 1.3667444,
  1.3396491, 1.3172448, 1.3177684, 1.3050636, 1.2848889, 1.287293, 1.2920443,
  1.299035, 1.3391884, 1.3373097, 1.326501, 1.3194803, 1.3179074, 1.3264047,
  1.3224537, 1.3500912, 1.3662594, 1.3818435, 1.379444, 1.3797901, 1.3663774,
  1.3533635, 1.3689603, 1.3785694, 1.3706777, 1.3885852, 1.3993145, 1.4069639,
  1.400755, 1.4006977, 1.406092, 1.4290647, 1.4444187, 1.4498906, 1.4470879,
  1.4515611, 1.4614742, 1.4546932, 1.4619932, 1.4519987, 1.4537936, 1.463514,
  1.4703317, 1.4928974, 1.5051565, 1.5003716, 1.5019149, 1.5010423, 1.4926634,
  1.4796658, 1.4787921, 1.4821469, 1.481707, 1.4474636, 1.4404448, 1.4234005,
  1.4080415, 1.4244427, 1.4087509, 1.4094902, 1.410023, 1.4225635, 1.43544,
  1.447531, 1.4366035, 1.4134911, 1.4092786, 1.3890686, 1.3835879, 1.3808629,
  1.3895874, 1.3705096, 1.3605789, 1.3575513, 1.3507102, 1.3536115, 1.3458151,
  1.3328378, 1.3229116, 1.3510458, 1.3600794, 1.368836, 1.3518673, 1.3366254,
  1.3315704, 1.3235967, 1.3238178, 1.3374972, 1.3338223, 1.344039, 1.3502482,
  1.3511742, 1.3406769, 1.3622658, 1.3713648, 1.3786513, 1.3703737, 1.3761469,
  1.3937403, 1.3966481, 1.3932719, 1.3735146, 1.3705438, 1.3726194, 1.379856,
  1.3746455, 1.3820505, 1.4007281, 1.4054986, 1.402275, 1.3976182, 1.3869211,
  1.3983129, 1.406954, 1.4155336, 1.4157059, 1.4173632, 1.4093547, 1.397148,
  1.4036218, 1.430721, 1.4193625, 1.4124077, 1.3901058, 1.3793144, 1.3782313,
  1.3831066, 1.3782344, 1.3943255, 1.3936004, 1.3664918, 1.34306, 1.3359713,
  1.329379, 1.3407415, 1.3401903, 1.3354526, 1.3356697, 1.3317545, 1.3299516,
  1.3302186, 1.3302375, 1.3437316, 1.3389458, 1.3489566, 1.3486251, 1.3531872,
  1.3667592, 1.3524984, 1.3616068, 1.3703148, 1.3731575, 1.37958, 1.3799489,
  1.3783204, 1.3593495, 1.3602403, 1.377557, 1.380665, 1.3752743, 1.3819195,
  1.3955834, 1.3965801, 1.3863261, 1.3934567, 1.411644, 1.4231683, 1.4169984,
  1.4212898, 1.4320525, 1.4252047, 1.4142767, 1.4258716, 1.4255229, 1.4324834,
  1.4345773, 1.4205352, 1.4193061, 1.4138083, 1.4003177, 1.402088, 1.4013847,
  1.4033133, 1.3992492, 1.38975, 1.3876033, 1.4051249, 1.4193504, 1.4109789,
  1.4065759, 1.4090461, 1.3854886, 1.3525621, 1.3585863, 1.3555018, 1.3729586,
  1.3689777, 1.3650956, 1.3706004, 1.3766745, 1.3619817, 1.355086, 1.3712216,
  1.3679516, 1.3725833, 1.3856119, 1.3917969, 1.4054802, 1.4043734, 1.3961472,
  1.398062, 1.4022254, 1.4020238, 1.396596, 1.4058672, 1.4097826, 1.4180543,
  1.416113, 1.4134788, 1.4088735, 1.4074678, 1.4029714, 1.3904066, 1.3874967,
  1.4061348, 1.4014434, 1.39994, 1.4073567, 1.4083905, 1.409566, 1.4132451,
  1.4173726, 1.4215255, 1.4227448, 1.4199576, 1.4383781, 1.4483394, 1.44832,
  1.4483812, 1.4464808, 1.4289819, 1.4270806, 1.4418584, 1.4489495, 1.4445462,
  1.446561, 1.4613595, 1.472807, 1.4758409, 1.4785792, 1.4708192, 1.4722272,
  1.4770112, 1.489116, 1.4916462, 1.4879134, 1.4937788, 1.4854958, 1.4814598,
  1.4762479, 1.4676951, 1.4644423, 1.4594356, 1.4695248, 1.4774525, 1.4881885,
  1.4952576, 1.498891, 1.4965749, 1.4846137, 1.4774443, 1.4703502, 1.4797851,
  1.4780966, 1.4810945, 1.4752237, 1.4823453, 1.492313, 1.4987868, 1.4978188,
  1.5013543, 1.5110742, 1.5119406, 1.5218873, 1.5205553, 1.5238772, 1.5248164,
  1.5179326, 1.505917, 1.5026672, 1.4932373, 1.4958178, 1.4987677, 1.4953228,
  1.48873, 1.4946612, 1.4955728, 1.4859094, 1.4761048, 1.4660187, 1.4672149,
  1.475948, 1.4822676, 1.4880368, 1.4802119, 1.4924191, 1.4985254, 1.5096932,
  1.5111205, 1.5182228, 1.5225141, 1.5257075, 1.5220363, 1.5174657, 1.5174598,
  1.5163099, 1.5194842, 1.5180148, 1.5255865, 1.5353782, 1.5245263, 1.5201028,
  1.5216114, 1.5020978, 1.4929467, 1.4901833, 1.4912629, 1.4819606, 1.489623,
  1.4911391, 1.4854762, 1.4813079, 1.4714201, 1.4720783, 1.4759205, 1.4856815,
  1.4989991, 1.5002113, 1.5059212, 1.5035425, 1.5050719, 1.5048365, 1.4994038,
  1.4854602, 1.4635898, 1.4515308, 1.451103, 1.4542491, 1.4424223, 1.4296918,
  1.4275889, 1.4371621, 1.4500917, 1.4728658, 1.4826831, 1.4810883, 1.4862892,
  1.4888888, 1.4905487, 1.4833076, 1.5002026, 1.504663, 1.5109187, 1.5075393,
  1.5106163, 1.5143861, 1.5191113, 1.5249287, 1.5236586, 1.5189841, 1.5161524,
  1.5154932, 1.5187428, 1.5344644, 1.5428064, 1.5446531, 1.545304, 1.5459654,
  1.5569385, 1.5615906, 1.565555, 1.5686066, 1.5771058, 1.5715434, 1.5773888,
  1.5804139, 1.5825527, 1.5694703, 1.5771005, 1.5750563, 1.5768528, 1.5782923,
  1.5783352, 1.5794034, 1.5791007, 1.5766189, 1.5689919, 1.5709234, 1.5841252,
  1.5872308, 1.5831389, 1.5910628, 1.5909231, 1.5933783, 1.5894143, 1.5886398,
  1.5962024, 1.6104604, 1.6146566, 1.6250854, 1.6254303, 1.6359971, 1.6341193,
  1.6483827, 1.6404171, 1.6266307, 1.6464223, 1.6553575, 1.6607257, 1.6637018,
  1.6696535, 1.6703948, 1.6787433, 1.670629, 1.6680099, 1.6776914, 1.6839167,
  1.6799827, 1.6738241, 1.6653517, 1.6796583, 1.6977883, 1.694121, 1.6883868,
  1.6908795, 1.6913389, 1.7022257, 1.7081332, 1.6998983, 1.6954984, 1.7030612,
  1.709221, 1.6995406, 1.7062482, 1.7141493, 1.7112737, 1.7080385, 1.7079987,
  1.7162668, 1.7232777, 1.7409309, 1.7446638, 1.745539, 1.7425171, 1.741496,
  1.7546727, 1.7491786, 1.7454358, 1.7416212, 1.7247219, 1.7361637, 1.7297917,
  1.7354127, 1.7352838, 1.747259, 1.7415857, 1.7191459, 1.7105494, 1.7069113,
  1.6986905, 1.6918626, 1.7111943, 1.714899, 1.7085832, 1.7158367, 1.7249627,
  1.7218995, 1.7076407, 1.720499, 1.7376783, 1.7465692, 1.7485083, 1.754154,
  1.7559255, 1.7526827, 1.7602474, 1.7698162, 1.7659733, 1.77143, 1.7714072,
  1.7736587, 1.7726947, 1.7650314, 1.7692804, 1.7653613, 1.7608546, 1.7563895,
  1.7472052, 1.7582727, 1.7569223, 1.7681275, 1.7787027, 1.7822271, 1.7871589,
  1.7939008, 1.8011977, 1.796051, 1.801376, 1.8083952, 1.8146159, 1.8163924,
  1.8221916, 1.8173293, 1.8140742, 1.8212328, 1.8226071, 1.8222568, 1.8161694,
  1.8168166, 1.8249904, 1.8273384, 1.8291889, 1.8327505, 1.8317548, 1.8378063,
  1.8441845, 1.8430987, 1.8426269, 1.8446805, 1.8421584, 1.8259177, 1.8133674,
  1.8145278, 1.828477, 1.8164219, 1.7957875, 1.7902131, 1.7984376, 1.8049034,
  1.8137869, 1.8200924, 1.7764532, 1.7283932, 1.7089452, 1.7281044, 1.7242058,
  1.7442637, 1.7486206, 1.7561367, 1.7712127, 1.78407, 1.799828, 1.8075369,
  1.8071535, 1.8051626, 1.8089948, 1.803418, 1.807685, 1.808619, 1.8098357,
  1.8192855, 1.8202121, 1.8329424, 1.8222249, 1.8006786, 1.7859555, 1.7727456,
  1.769838, 1.7818614, 1.7808971, 1.803919, 1.8171706, 1.8130546, 1.8192609,
  1.812602, 1.8256071, 1.8284981, 1.8330406, 1.8366445, 1.8386295, 1.838304,
  1.8491076, 1.8475358, 1.8474513, 1.8523922, 1.8487216, 1.855685, 1.8660343,
  1.8626708, 1.874255, 1.8804047, 1.8860746, 1.8973041, 1.8971724, 1.8965537,
  1.9096751, 1.9115105, 1.9073579, 1.9094903, 1.9046732, 1.8984076, 1.903459,
  1.8996525, 1.9018527, 1.8971619, 1.871395, 1.8732793, 1.8618553, 1.865135,
  1.9094274, 1.9351974, 1.9468359, 1.9657072, 1.9646791, 1.9695445, 1.9686243,
  1.9484793, 1.9460605, 1.950223, 1.9673755, 1.9867691, 1.9916741, 1.992512,
  1.9821946, 1.9828523, 1.9890959, 2.0031741, 2.0090775, 2.014584, 2.0148622,
  2.0134856, 2.0098556, 2.0084704, 2.0176417, 2.0196816, 2.0138087, 2.0137836,
  2.0126699, 2.0084216, 2.0110632, 1.976866, 1.9788261, 1.9902269, 1.9799686,
  1.9902018, 1.9980658, 1.998174, 2.0117896, 1.9983063, 1.9968701, 2.0031079,
  1.9888541, 1.9813225, 1.980762, 1.9973909, 2.0108494, 2.0241635, 2.0206331,
  2.0225281, 2.0352593, 2.0389247, 2.0369193, 2.0077747, 2.0201774, 2.0317356,
  2.0335782, 2.0516926, 2.0386763, 2.0364273, 2.0337129, 2.0514392, 2.0538645,
  2.0590357, 2.0606907, 2.0516078, 2.0540112, 2.05541, 2.0582472, 2.0613774,
  2.0681012, 2.0578334, 2.0549513, 2.0342594, 2.0111563, 2.0242924, 2.0252445,
  2.0113528, 2.018243, 1.9662511, 1.9396328, 1.9342682, 1.9053279, 1.8922173,
  1.8571505, 1.8588128, 1.8522335, 1.8650976, 1.8770405, 1.8756157, 1.8841808,
  1.8946195, 1.890722, 1.9154013, 1.9244028, 1.9196767, 1.9103893, 1.8822585,
  1.8634143, 1.8775248, 1.8779599, 1.8168865, 1.7302765, 1.6711382, 1.6966921,
  1.645034, 1.7105995, 1.6939226, 1.7222694, 1.7386789, 1.7273067, 1.7039634,
  1.6978208, 1.7279404, 1.7523736, 1.7646674, 1.7709732, 1.7793147, 1.7850312,
  1.8218771, 1.8122187, 1.8339314, 1.8377916, 1.8377695, 1.8801393, 1.9058186,
  1.9069884, 1.9110302, 1.9221001, 1.9202808, 1.9221118, 1.9083415, 1.8892471,
  1.8749062, 1.8834266, 1.8926073, 1.9027143, 1.8958088, 1.8972175, 1.8900168,
  1.9040345, 1.9080331, 1.909049, 1.9092649, 1.9153753, 1.9164638, 1.9180539,
  1.9031578, 1.8942803, 1.8946872, 1.8946915, 1.8920049, 1.8825876, 1.8864696,
  1.898151, 1.8969198, 1.9089551, 1.9088041, 1.9091935, 1.9114824, 1.925088,
  1.9203685, 1.9252921, 1.9226548, 1.9290832, 1.9410545, 1.9349179, 1.9335506,
  1.9419449, 1.9227474, 1.9501887,
];

const dataK = data.slice(0, 1500);

const vMin = Math.min(...dataK);
const vMax = Math.max(...dataK);

const normalizedData = dataK.map((x) => normalize(x, vMin, vMax));
const normalizedFullData = data.map((x) => normalize(x, vMin, vMax));

const matrix = normalizedData.map((x) => [x]);

console.log({
  vMin,
  vMax,
  dataK: dataK.length,
  normalizedData: normalizedData.length,
});

let series = createTensors(matrix, windowSize);
let model = await createModel(windowSize, lstmUnits, denseUnits);
let cModel = await createModel(windowSize, lstmUnits, denseUnits);
let xs = series.xs;
let ys = series.ys;
let xTrainValid = buildValidationXTrain(matrix, normalizedFullData, windowSize);

global.data = data;
global.dataK = dataK;
global.vMin = vMin;
global.vMax = vMax;
global.normalizedData = normalizedData;
global.normalizedFullData = normalizedFullData;
global.matrix = matrix;

global.series = series;
global.model = model;
global.cModel = cModel;
global.xs = xs;
global.ys = ys;
global.xTrainValid = xTrainValid;
